{"version":3,"sources":["hoc/withAuthRedirect.js","components/common/CustomTextArea/CustomTextArea.js","components/common/CustomTextArea/CustomTextArea.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/DialogMessage/DialogMessage.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","CustomTextArea","field","form","name","component","className","s","textArea","id","isValid","errorMessage","module","exports","DialogItem","path","dialog","dialogItem","dialogUserAvatar","src","img","dialogUserName","DialogMessage","message","AddMessageForm","initialValues","addMessageText","onSubmit","values","setSubmitting","addMessage","validate","errors","length","isSubmitting","placeholder","type","disabled","Dialogs","dialogsElements","dialogsPage","dialogs","map","d","MessagesElements","messages","m","content","dialogsItem","dialogsMessages","compose","dispatch","dialogsNewMessageBody","addMessageActionCreator","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"mappings":"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","file":"static/js/4.3e9d5a08.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n   isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n         if (!this.props.isAuth) return <Redirect to='/login' />\r\n         return <Component {...this.props} />\r\n      }\r\n   }\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n   return ConnectedAuthRedirectComponent;\r\n}","import { ErrorMessage } from 'formik'\r\nimport React from 'react'\r\nimport s from './CustomTextArea.module.css'\r\n\r\n\r\n\r\nconst CustomTextArea = ({ field, form, ...props }) => {\r\n   const name = field.name\r\n\r\n   return <>\r\n      <ErrorMessage name={name} component='div' />\r\n      <textarea {...props} {...field}\r\n         className={s.textArea}\r\n         id={form.isValid ? null : s.errorMessage}\r\n      > </textarea >\r\n   </>\r\n}\r\n\r\n\r\n\r\nexport default CustomTextArea","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textArea\":\"CustomTextArea_textArea__1GL_e\",\"errorMessage\":\"CustomTextArea_errorMessage__3Zrt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__XQQyt\",\"dialogItem\":\"DialogItem_dialogItem__EBfCv\",\"dialogUserAvatar\":\"DialogItem_dialogUserAvatar__ALkhm\",\"dialogUserName\":\"DialogItem_dialogUserName__3Wr3N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__2kKHT\",\"dialogsItem\":\"Dialogs_dialogsItem__2u1sV\",\"dialogsMessages\":\"Dialogs_dialogsMessages__2jh-2\"};","\r\nimport s from './DialogItem.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return <div className={s.dialog}>\r\n        <NavLink to={path}>\r\n            <div className={s.dialogItem}>\r\n                <div className={s.dialogUserAvatar}>\r\n                    <img src={props.img}></img>\r\n                </div>\r\n                <div className={s.dialogUserName}>\r\n                    {props.name}\r\n                </div>\r\n            </div>\r\n        </NavLink>\r\n    </div >\r\n}\r\n\r\nexport default DialogItem;","import s from './DialogMessage.module.css'\r\n\r\nconst DialogMessage = (props) => {\r\n    return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default DialogMessage;","import React from 'react';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport DialogMessage from './DialogMessage/DialogMessage';\r\nimport s from './Dialogs.module.css'\r\nimport { Formik, Form, Field } from 'formik';\r\nimport CustomTextArea from '../common/CustomTextArea/CustomTextArea';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsElements = props.dialogsPage.dialogs\r\n        .map(d => <DialogItem name={d.name} id={d.id} img={d.img} key={d.id} />);\r\n\r\n    let MessagesElements = props.dialogsPage.messages\r\n        .map(m => <DialogMessage message={m.message} />);\r\n\r\n    return <div className={s.content}>\r\n        <div className={s.dialogsItem}>\r\n            {dialogsElements}\r\n        </div>\r\n        <div>\r\n            <AddMessageForm addMessage={props.addMessage} />\r\n            <div className={s.dialogsMessages}>\r\n                {MessagesElements}\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n};\r\n\r\nconst AddMessageForm = (props) => {\r\n    const submit = (values, { setSubmitting }) => {\r\n        props.addMessage(values.addMessageText)\r\n        values.addMessageText = ''\r\n        setSubmitting(false);\r\n    }\r\n    const textAreaValidate = (values) => {\r\n        const errors = {};\r\n        if (!values.addMessageText) {\r\n            errors.addMessageText = 'Required';\r\n        } else if (\r\n            values.addMessageText.length > 10\r\n        ) {\r\n            errors.addMessageText = 'Max symbols 10';\r\n\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    return <Formik\r\n        initialValues={{ addMessageText: '' }}\r\n        onSubmit={submit}\r\n        validate={textAreaValidate}\r\n    >\r\n        {({ isSubmitting }) => (\r\n            <Form>\r\n                <Field\r\n                    component={CustomTextArea}\r\n                    name=\"addMessageText\"\r\n                    placeholder='Create a new Message'\r\n                />\r\n                <button type=\"submit\" disabled={isSubmitting}>\r\n                    Submit\r\n                </button>\r\n            </Form>\r\n        )}\r\n    </Formik>\r\n}\r\n\r\nexport default Dialogs;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { addMessageActionCreator } from '../../redux/dialog-reducer';\r\nimport Dialogs from './Dialogs';\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (dialogsNewMessageBody) => {\r\n            dispatch(addMessageActionCreator(dialogsNewMessageBody));\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}